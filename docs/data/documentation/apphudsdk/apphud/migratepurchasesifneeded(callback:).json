{"kind":"symbol","sections":[],"abstract":[{"type":"text","text":"Migrates existing purchases to Apphud. This method is intended for importing App Store receipts for users who are already paying but are not yet tracked by Apphud. It should be used only for migrating existing paying users at the launch of your app."}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/org.cocoapods.ApphudSDK\/documentation\/ApphudSDK\/Apphud\/migratePurchasesIfNeeded(callback:)"},"deprecationSummary":[{"type":"paragraph","inlineContent":[{"text":"No longer needed for iOS 15+. Purchases migrate automatically.","type":"text"}]}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/apphudsdk\/apphud\/migratepurchasesifneeded(callback:)"]}],"metadata":{"modules":[{"name":"ApphudSDK"}],"externalID":"s:9ApphudSDK0A0C24migratePurchasesIfNeeded8callbackyySayAA0A12SubscriptionCGSg_SayAA0A19NonRenewingPurchaseCGSgs5Error_pSgtc_tFZ","fragments":[{"kind":"keyword","text":"static"},{"text":" ","kind":"text"},{"kind":"keyword","text":"func"},{"text":" ","kind":"text"},{"kind":"identifier","text":"migratePurchasesIfNeeded"},{"kind":"text","text":"("},{"kind":"externalParam","text":"callback"},{"text":": ([","kind":"text"},{"text":"ApphudSubscription","preciseIdentifier":"s:9ApphudSDK0A12SubscriptionC","kind":"typeIdentifier"},{"text":"]?, [","kind":"text"},{"preciseIdentifier":"s:9ApphudSDK0A19NonRenewingPurchaseC","text":"ApphudNonRenewingPurchase","kind":"typeIdentifier"},{"kind":"text","text":"]?, "},{"text":"Error","preciseIdentifier":"s:s5ErrorP","kind":"typeIdentifier"},{"kind":"text","text":"?) -> "},{"preciseIdentifier":"s:s4Voida","text":"Void","kind":"typeIdentifier"},{"text":")","kind":"text"}],"platforms":[],"title":"migratePurchasesIfNeeded(callback:)","roleHeading":"Type Method","role":"symbol","symbolKind":"method"},"schemaVersion":{"minor":3,"patch":0,"major":0},"hierarchy":{"paths":[["doc:\/\/org.cocoapods.ApphudSDK\/documentation\/ApphudSDK","doc:\/\/org.cocoapods.ApphudSDK\/documentation\/ApphudSDK\/Apphud"]]},"primaryContentSections":[{"declarations":[{"tokens":[{"kind":"attribute","text":"@"},{"kind":"attribute","preciseIdentifier":"s:ScM","text":"MainActor"},{"kind":"text","text":" "},{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"migratePurchasesIfNeeded","kind":"identifier"},{"text":"(","kind":"text"},{"kind":"externalParam","text":"callback"},{"text":": ","kind":"text"},{"kind":"attribute","text":"@escaping"},{"text":" ([","kind":"text"},{"kind":"typeIdentifier","identifier":"doc:\/\/org.cocoapods.ApphudSDK\/documentation\/ApphudSDK\/ApphudSubscription","text":"ApphudSubscription","preciseIdentifier":"s:9ApphudSDK0A12SubscriptionC"},{"text":"]?, [","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:9ApphudSDK0A19NonRenewingPurchaseC","text":"ApphudNonRenewingPurchase","identifier":"doc:\/\/org.cocoapods.ApphudSDK\/documentation\/ApphudSDK\/ApphudNonRenewingPurchase"},{"text":"]?, ","kind":"text"},{"text":"Error","preciseIdentifier":"s:s5ErrorP","kind":"typeIdentifier"},{"kind":"text","text":"?) -> "},{"kind":"typeIdentifier","preciseIdentifier":"s:s4Voida","text":"Void"},{"kind":"text","text":")"}],"languages":["swift"],"platforms":["iOS"]}],"kind":"declarations"},{"kind":"content","content":[{"level":2,"text":"Discussion","type":"heading","anchor":"discussion"},{"type":"paragraph","inlineContent":[{"text":"Example:","type":"text"}]},{"type":"codeListing","code":["   \/\/ hasPurchases - is your own boolean value indicating that the current user is a paying user.","   if hasPurchases {","       Apphud.migratePurchasesIfNeeded { _, _, _ in}","   }"],"syntax":"swift"},{"inlineContent":[{"text":"Note: This method can be removed after a certain period, such as when you are confident that all paying users have been synced with Apphud.","type":"text"},{"text":" ","type":"text"},{"text":"Deprecated: No longer needed for iOS 15 and later, as purchases migrate automatically.","type":"text"}],"type":"paragraph"}]}],"references":{"doc://org.cocoapods.ApphudSDK/documentation/ApphudSDK/ApphudNonRenewingPurchase":{"url":"\/documentation\/apphudsdk\/apphudnonrenewingpurchase","kind":"symbol","title":"ApphudNonRenewingPurchase","fragments":[{"text":"class","kind":"keyword"},{"kind":"text","text":" "},{"text":"ApphudNonRenewingPurchase","kind":"identifier"}],"navigatorTitle":[{"text":"ApphudNonRenewingPurchase","kind":"identifier"}],"role":"symbol","abstract":[{"text":"Custom Apphud class containing all information about customer non-renewing purchase","type":"text"}],"type":"topic","identifier":"doc:\/\/org.cocoapods.ApphudSDK\/documentation\/ApphudSDK\/ApphudNonRenewingPurchase"},"doc://org.cocoapods.ApphudSDK/documentation/ApphudSDK/Apphud":{"type":"topic","url":"\/documentation\/apphudsdk\/apphud","title":"Apphud","abstract":[{"text":"Entry point of the Apphud SDK. It provides access to all its features.","type":"text"}],"role":"symbol","navigatorTitle":[{"kind":"identifier","text":"Apphud"}],"kind":"symbol","identifier":"doc:\/\/org.cocoapods.ApphudSDK\/documentation\/ApphudSDK\/Apphud","fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"Apphud"}]},"doc://org.cocoapods.ApphudSDK/documentation/ApphudSDK/ApphudSubscription":{"url":"\/documentation\/apphudsdk\/apphudsubscription","type":"topic","abstract":[{"type":"text","text":"Custom Apphud class containing all information about customer subscription."}],"fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"ApphudSubscription","kind":"identifier"}],"role":"symbol","identifier":"doc:\/\/org.cocoapods.ApphudSDK\/documentation\/ApphudSDK\/ApphudSubscription","title":"ApphudSubscription","navigatorTitle":[{"text":"ApphudSubscription","kind":"identifier"}],"kind":"symbol"},"doc://org.cocoapods.ApphudSDK/documentation/ApphudSDK":{"identifier":"doc:\/\/org.cocoapods.ApphudSDK\/documentation\/ApphudSDK","url":"\/documentation\/apphudsdk","abstract":[{"text":"Apphud is all-in-one infrastructure for your app growth. Apphud helps marketing and product management teams to make right decisions based on the data and tools.","type":"text"}],"title":"ApphudSDK","type":"topic","role":"collection","kind":"symbol"},"doc://org.cocoapods.ApphudSDK/documentation/ApphudSDK/Apphud/migratePurchasesIfNeeded(callback:)":{"identifier":"doc:\/\/org.cocoapods.ApphudSDK\/documentation\/ApphudSDK\/Apphud\/migratePurchasesIfNeeded(callback:)","role":"symbol","fragments":[{"text":"static","kind":"keyword"},{"text":" ","kind":"text"},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"migratePurchasesIfNeeded"},{"text":"(","kind":"text"},{"text":"callback","kind":"externalParam"},{"text":": ([","kind":"text"},{"text":"ApphudSubscription","preciseIdentifier":"s:9ApphudSDK0A12SubscriptionC","kind":"typeIdentifier"},{"text":"]?, [","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:9ApphudSDK0A19NonRenewingPurchaseC","text":"ApphudNonRenewingPurchase"},{"text":"]?, ","kind":"text"},{"preciseIdentifier":"s:s5ErrorP","text":"Error","kind":"typeIdentifier"},{"kind":"text","text":"?) -> "},{"preciseIdentifier":"s:s4Voida","text":"Void","kind":"typeIdentifier"},{"text":")","kind":"text"}],"deprecated":true,"type":"topic","abstract":[{"type":"text","text":"Migrates existing purchases to Apphud. This method is intended for importing App Store receipts for users who are already paying but are not yet tracked by Apphud. It should be used only for migrating existing paying users at the launch of your app."}],"title":"migratePurchasesIfNeeded(callback:)","url":"\/documentation\/apphudsdk\/apphud\/migratepurchasesifneeded(callback:)","kind":"symbol"}},"variantOverrides":[{"traits":[{"interfaceLanguage":"occ"}],"patch":[{"op":"replace","value":"Apphud","path":"\/references\/doc:~1~1org.cocoapods.ApphudSDK~1documentation~1ApphudSDK~1Apphud\/title"},{"op":"replace","path":"\/references\/doc:~1~1org.cocoapods.ApphudSDK~1documentation~1ApphudSDK~1Apphud\/fragments","value":[{"text":"Apphud","kind":"identifier"}]}]}]}